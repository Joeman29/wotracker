(function(){var e,t={}.hasOwnProperty,n=function(e,n){function s(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return s.prototype=n.prototype,e.prototype=new s,e.__super__=n.prototype,e};WOTracker.Views.SegmentView=function(t){function s(){return e=s.__super__.constructor.apply(this,arguments)}return n(s,t),s.prototype.tagName="li",s.prototype["class"]="segment-edit",s.prototype.template=JST["segments/segment"],s.prototype.events={"dblclick .segment-name":"showSegmentNameEdit","change .segment-value-edit":"change_value","click .new-exercise":"new_exercise","click .delete-segment":"delete_segment","click .segment-promote":"promote","change select[name=sets]":"changeSets"},s.prototype.render=function(){var e;return this.$el.html(this.template(this.model.attributes)),e=this.model.attributes.sets,this.$el.find("select[name=sets]").val(e),this.$el.find(".segment-table").append(this.model.exercises.view.render().el),this.delegateEvents(),this},s.prototype.new_exercise=function(){var e;return e=this.model.exercises.create({name:"New Exercise"}),this.model.exercises.add(e)},s.prototype.delete_segment=function(){var e;return confirm("Are you sure you want to remove this section?\n You cannot undo this action.")?(e=this.model.collection,this.model.destroy(),this.$el.remove(),e.trigger("segment_removed")):void 0},s.prototype.showSegmentNameEdit=function(){return this.$el.find("input[name=name].segment-value-edit").show(),this.$el.find(".segment-name").hide()},s.prototype.change_value=function(e){return this.model.set($(e.target).attr("name"),$(e.target).val())},s.prototype.changeSets=function(e){var t;return t=parseInt($(e.target).val()),this.model.set("sets",t)},s}(Backbone.View)}).call(this);