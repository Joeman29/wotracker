(function(){var t,e={}.hasOwnProperty,o=function(t,o){function r(){this.constructor=t}for(var n in o)e.call(o,n)&&(t[n]=o[n]);return r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype,t};WOTracker.Views.WorkoutView=function(e){function r(){return t=r.__super__.constructor.apply(this,arguments)}return o(r,e),r.prototype.id="workout",r.prototype.template=JST["workouts/index"],r.prototype.events={"dblclick h2 span":"edit_value","submit h2":"change_value","click button.new-segment":"new_segment"},r.prototype.initialize=function(){},r.prototype.firstLoad=function(){return this.$el.html(this.template({workout:this.model.attributes})),this.$el.find("#workout-display").append(this.model.segments.view.render().el),$("#workout-edit-area").html(this.el)},r.prototype.render=function(){return this.$el.html(this.template({workout:this.model.attributes})),$("#workout-edit-area").html(this.el),this.$el.find("#workout-display").append(this.model.segments.view.render().el),this.delegateEvents(),this},r.prototype.new_segment=function(){var t;return t=this.model.segments.create({},{wait:!0}),this.model.segments.add(t)},r.prototype.edit_value=function(t){var e,o;return o=$(t.target),e=o.text(),o.text(""),$("<form><input type='text' name='"+o.data("workout")+"' value='"+e+"'></form>").appendTo(o)},r.prototype.change_value=function(t){var e,o;return t.preventDefault(),o=$(t.target).find("input"),e=o.attr("name"),this.model.set(e,o.val()),this.render()},r}(Backbone.View)}).call(this);