(function(){var e,t={}.hasOwnProperty,i=function(e,i){function r(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};WOTracker.Views.ExerciseView=function(t){function r(){return e=r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.tagName="tr",r.prototype.template=JST["exercises/exercise"],r.prototype.exerciseFormTemplate=JST["exercises/form"],r.prototype.events={"submit ":"changeDesc","click .edit-exercise":"edit_exercise","click .delete-exercise":"delete_exercise","click .cancel-exercise-edit":"cancel_edit","change select, input":"changeValue","dblclick .exercise-name":"showEditName"},r.prototype.render=function(){var e,t,i,r,o;return t=this.model.collection.parent,t&&(r=t.get("sets")),e=$.extend(this.model.attributes,{sets:r}),$(this.el).html(this.template(e)),$(this.el).find("select[name=kind]").val(this.model.attributes.kind),i=$(this.el).find(".kind").find(":selected").data("selectors"),this.delegateEvents(),i?(o=this.$el.find(".hideable"),o.find(i).show(),o.children().not(i).hide(),this):this},r.prototype.edit_exercise=function(e){var t,i;return this.$el.remove("#exercise-form"),this.$el.append(this.exerciseFormTemplate(this.model.attributes,{formName:"Edit Form"})),t=this.$el.find("#exercise-form"),i={top:$(e.target).offset().top,left:$(e.target).offset().left-t.outerWidth()/2},t.css(i),t.fadeIn()},r.prototype.changeDesc=function(e){return e.preventDefault(),this.model.set($(e.target).serializeObject()),this.$el.find("#exercise-form").fadeOut()},r.prototype.delete_exercise=function(){var e;return confirm("Are you sure you want to remove "+this.model.attributes.name+"?\n You cannot undo this action.")?(e=this.model.collection,this.model.destroy(),this.$el.remove(),e.trigger("exercise_removed")):void 0},r.prototype.cancel_edit=function(){return this.$el.find("#exercise-form").fadeOut()},r.prototype.showEditName=function(){return this.$el.find(".exercise-name").hide(),this.$el.find(".exercise-name-edit").show()},r.prototype.changeValue=function(e){var t;return t=$(e.target).val(),this.model.set($(e.target).attr("name"),t)},r}(Backbone.View)}).call(this);