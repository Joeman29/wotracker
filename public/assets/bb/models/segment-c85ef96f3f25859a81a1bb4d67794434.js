(function(){var e,t={}.hasOwnProperty,i=function(e,i){function r(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return r.prototype=i.prototype,e.prototype=new r,e.__super__=i.prototype,e};WOTracker.Models.Segment=function(t){function r(){return e=r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.defaults={name:"New Superset",rest_time:60},r.prototype.url=function(){var e;return this.collection?(e=this.collection.url,this.id&&(e+=this.id),e):"/"},r.prototype.initialize=function(){return this.view=new WOTracker.Views.SegmentView({model:this}),this.exercises=new WOTracker.Collections.Exercises,this.exercises.parent=this,this.exercises.url=""+this.url()+"/exercises/",this.collection&&this.collection.on("reset",this.collectionReset,this),this.on("change",function(){return this.exercises.url=""+this.url()+"/exercises/",this.save(),this.view.render()}),this.on("invalid",function(){return this.attributes=this.previousAttributes(),alert(this.validationError)})},r.prototype.validate=function(e){return e.name.length<1?"Cannot be blank":$.isNumeric(e.rest_time)?void 0:"Rest time must be a number"},r.prototype.collectionReset=function(){return this.exercises.reset(this.get("exercises"))},r}(Backbone.Model)}).call(this);