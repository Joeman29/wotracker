(function(){var t,e={}.hasOwnProperty,r=function(t,r){function o(){this.constructor=t}for(var i in r)e.call(r,i)&&(t[i]=r[i]);return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};WOTracker.Models.Workout=function(e){function o(){return t=o.__super__.constructor.apply(this,arguments)}return r(o,e),o.prototype.initialize=function(){return this.url=$("#workout-edit-area").data("loadurl"),this.segments=new WOTracker.Collections.Segments({parent:this}),this.segments.url=""+this.url+"/segments/",this.view=new WOTracker.Views.WorkoutView({model:this}),this.on("change",function(){return this.isValid()?this.save():this.attributes=this.previousAttributes()}),this.fetch({success:this.initialLoad,error:this.firstLoadError})},o.prototype.initialLoad=function(t){return t.segments.reset(t.get("segments")),t.view.firstLoad()},o.prototype.validate=function(t){return t.name.length<1||t.goal_time<1?"Cannot be blank":$.isNumeric(t.goal_time)?void 0:"Time must be a number"},o.prototype.firstLoadError=function(t,e){return console.log(e)},o}(Backbone.Model)}).call(this);